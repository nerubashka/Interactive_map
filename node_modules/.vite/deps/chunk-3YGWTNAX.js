import {
  ImageBase_default
} from "./chunk-FZ7WLJSJ.js";
import {
  ImageState_default
} from "./chunk-5TDNKDLD.js";

// node_modules/ol/ImageCanvas.js
var ImageCanvas = class extends ImageBase_default {
  constructor(extent, resolution, pixelRatio, canvas, loader) {
    const state = loader !== void 0 ? ImageState_default.IDLE : ImageState_default.LOADED;
    super(extent, resolution, pixelRatio, state);
    this.loader_ = loader !== void 0 ? loader : null;
    this.canvas_ = canvas;
    this.error_ = null;
  }
  getError() {
    return this.error_;
  }
  handleLoad_(err) {
    if (err) {
      this.error_ = err;
      this.state = ImageState_default.ERROR;
    } else {
      this.state = ImageState_default.LOADED;
    }
    this.changed();
  }
  load() {
    if (this.state == ImageState_default.IDLE) {
      this.state = ImageState_default.LOADING;
      this.changed();
      this.loader_(this.handleLoad_.bind(this));
    }
  }
  getImage() {
    return this.canvas_;
  }
};
var ImageCanvas_default = ImageCanvas;

export {
  ImageCanvas_default
};
//# sourceMappingURL=chunk-3YGWTNAX.js.map
